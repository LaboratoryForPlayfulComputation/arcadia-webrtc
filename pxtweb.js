var pxt;"undefined"==typeof navigator||!/Trident/i.test(navigator.userAgent)||/skipbrowsercheck=1/i.exec(window.location.href)||/\/browsers/i.exec(window.location.href)||(window.location.href="/browsers"),function(e){var r,o,n=[],i=!1,a=function(){function e(e){this.log=e,this.q=[],n.push(this)}return e.prototype.track=function(e,t,n){i?this.log(e,t,n):(this.q.push([e,t,n]),20<this.q.length&&this.q.shift())},e.prototype.flush=function(){for(;this.q.length;){var e=this.q.shift(),t=e[0],n=e[1],r=e[2];this.log(t,n,r)}},e}();function f(e){void 0===e&&(e=!1);var t=window.loadAppInsights;t&&(t(e),i=!0,n.forEach(function(e){return e.flush()}))}function d(e){if(document.head){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t.setAttribute("type","text/css"),document.head.appendChild(t)}}function p(e,t){var n=!1;if(!document.body)throw new Error("Bad call to injectScriptAsync");var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.onload=function(e){n||(t(),n=!0)},r.onerror=function(e){n||(t(e),n=!0)},document.body.appendChild(r),r.setAttribute("src",e)}!function(m){var l;function n(){return Math.round(performance.now()-m.startTimeMs)}function h(e){var t=(e=Math.round(e))%1e3,n=Math.floor(e/1e3),r=n%60,o=Math.floor(n/60);return 0<o?o+"m"+r+"s":5<n?n+"s":0<n?n+"s"+t+"ms":e+"ms"}function e(e,t){void 0===t&&(t=n()),m.stats.milestones.push([e,t])}function t(){if(l=performance&&!!performance.mark&&!!performance.measure){performance.measure("measure from the start of navigation to now");var e=performance.getEntriesByType("measure")[0];m.startTimeMs=e.startTime}}m.stats={durations:[],milestones:[]},m.perfReportLogged=!1,m.splitMs=n,m.prettyStr=h,m.splitStr=function(){return h(n())},m.recordMilestone=e,m.init=t,m.measureStart=function(e){l&&performance.mark(e+" start")},m.measureEnd=function(e){if(l&&performance.getEntriesByName(e+" start").length){performance.mark(e+" end"),performance.measure(e+" elapsed",e+" start",e+" end");var t=performance.getEntriesByName(e+" elapsed","measure");if(t&&1===t.length){var n=t[0],r=n.duration;10<r&&m.stats.durations.push([e,n.startTime,r])}performance.clearMarks(e+" start"),performance.clearMarks(e+" end"),performance.clearMeasures(e+" elapsed")}},m.report=function(e){if(void 0===e&&(e=null),l){for(var t="performance report:\n",n=0,r=m.stats.milestones;n<r.length;n++){var o=r[n],i=o[0],a=o[1];(!e||0<=i.indexOf(e))&&(t+="\t\t"+i+" @ "+h(a)+"\n")}t+="\n";for(var s=0,c=m.stats.durations;s<c.length;s++){var u=c[s],f=(i=u[0],u[1]),d=u[2],p=e&&0<=i.indexOf(e);(50<d&&!e||p)&&(t+="\t\t"+i+" took ~ "+h(d),1e3<d&&(t+=" ("+h(f)+" - "+h(f+d)+")"),t+="\n")}console.log(t)}m.perfReportLogged=!0},t(),e("first JS running")}(e.perf||(e.perf={})),e.initAnalyticsAsync=function(){var e,t,n,r,o,i,a,s;e="undefined"!=typeof window,t="undefined"!=typeof Windows,n=e&&!!window.pxtElectron,r=e&&!!window.ipcRenderer||/ipc=1/.test(location.hash)||/ipc=1/.test(location.search),t||n||r||function(){try{return window&&window.self!==window.top}catch(e){return!1}}()&&/nocookiebanner=1/i.test(window.location.href)?f(!0):/sandbox=1|#sandbox|#sandboxproject/i.test(window.location.href)||window.pxtSkipAnalyticsCookie?f(!1):(o=document.domain,s=/(live)?lang=([a-z]{2,}(-[A-Z]+)?)/i.exec(window.location.href),i=(s?s[2]:navigator.userLanguage||navigator.language)||"en",a=function(e,t){if(e||t.Error)f(!1);else{if(function(e,t){var n=Date.parse(t);if(!isNaN(n)&&document&&document.cookie)for(var r=document.cookie.split(";"),o=0,i=r;o<i.length;o++){var a=i[o];if((a=a.trim()).indexOf("=")==e.length&&a.substr(0,e.length)==e){var s=parseInt(a.substr(e.length+1));return!!isNaN(s)||s<Math.floor(n/1e3)}}return!0}(t.CookieName,t.MinimumConsentDate)){var n=new Date(0).toUTCString();document.cookie="ai_user=; expires="+n,document.cookie="ai_session=; expires="+n,document.cookie=t.CookieName+"=0; expires="+n}var r,o,i,a,s,c,u=document.getElementById("cookiebanner");u||(u=document.createElement("div"),document.body.insertBefore(u,document.body.firstChild)),u.innerHTML=t.Markup,t.Css&&t.Css.length&&t.Css.forEach(d),r=t.Js||[],o=p,i=function(e){e||"undefined"==typeof mscc||(mscc.hasConsent()?f(!0):mscc.on("consent",function(){return f(!0)}))},a=0,s=[],(c=function(){a>=r.length?i(void 0,s):o(r[a++],function(e,t){e?i(e):(s.push(t),c())})})()}},function(e,t){try{var n,r=!1;(n=new XMLHttpRequest).onreadystatechange=function(){if(!r&&4==n.readyState){r=!0;var e={status:n.status,body:n.responseText};t(void 0,e)}},n.open("GET",e),n.send()}catch(e){t(e)}}("https://makecode.com/api/mscc/"+o+"/"+i,function(e,t){if(e)a(e);else{if(200===t.status)try{var n=JSON.parse(t.body);return void a(void 0,n)}catch(e){return void a(new Error("Bad response from server: "+t.body))}a(new Error("didn't get 200 response: "+t.status+" "+t.body))}}))},e.aiTrackEvent=function(e,t,n){r||(r=new a(function(e,t,n){return window.appInsights.trackEvent(e,t,n)})),r.track(e,t,n)},e.aiTrackException=function(e,t,n){o||(o=new a(function(e,t,n){return window.appInsights.trackException(e,t,n)})),o.track(e,t,n)},e.initializeAppInsightsInternal=f}(pxt||(pxt={}));